(this.webpackJsonpgame_in_dots=this.webpackJsonpgame_in_dots||[]).push([[0],{56:function(t,e,a){t.exports=a(82)},81:function(t,e,a){},82:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(7),r=a.n(i),o=a(26),l=a(15),c=a(29),u=a(30),h=a(34),m=a(17),d=a(10),f=a(35),p=a.n(f),v=a(113),b=a(115),y=a(114),k=a(117),g=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={userName:"",randomCell:"",color:"#fff",settings:[],results:[],modes:[],mode:"easyMode",field:5,cols:[1,2,3,4,5],user:0,computer:0,play:"",winner:"",button:"Play"},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.play=a.play.bind(Object(d.a)(a)),a.check=a.check.bind(Object(d.a)(a)),a.timeout=a.timeout.bind(Object(d.a)(a)),a.winner=a.winner.bind(Object(d.a)(a)),a.saveResult=a.saveResult.bind(Object(d.a)(a)),a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;p.a.get("https://starnavi-frontend-test-task.herokuapp.com/game-settings").then((function(e){var a=e.data;t.setState({settings:a,modes:Object.keys(a)})})),p.a.get("https://starnavi-frontend-test-task.herokuapp.com/winners").then((function(e){var a=e.data;t.setState({results:a})}))}},{key:"handleChange",value:function(t){var e=this;this.setState(Object(m.a)({},t.target.name,t.target.value),(function(){e.state.mode&&e.setState({field:e.state.settings[e.state.mode].field,color:"#fff"},(function(){var t=[];if(t){for(var e=1;e<=this.state.field;e++)t.push(e);this.setState({cols:t})}}))}))}},{key:"check",value:function(t){var e=this;this.state.play||""===this.state.randomCell||t.target.closest("td")&&(t.target.getAttribute("data-picked")?(clearTimeout(this.time),this.setState({color:"green",user:this.state.user+1,play:!0},(function(){""===e.state.winner&&setTimeout((function(){e.play()}),1e3),e.winner()}))):(clearTimeout(this.time),this.setState({color:"red",computer:this.state.computer+1,play:!0},(function(){e.winner(),""===e.state.winner&&setTimeout((function(){e.play()}),1e3)}))))}},{key:"timeout",value:function(){var t=this;this.time=setTimeout((function(){t.setState({color:"red",computer:t.state.computer+1,play:!0},(function(){t.winner(),""===t.state.winner&&setTimeout((function(){t.play()}),1e3)}))}),this.state.settings[this.state.mode].delay)}},{key:"play",value:function(){if(clearTimeout(this.time),""===this.state.winner){var t=Math.floor(Math.random()*this.state.field)+1,e=Math.floor(Math.random()*this.state.field)+1;this.setState({randomCell:t+""+e,color:"blue",play:!1}),this.timeout()}}},{key:"restart",value:function(){var t=this;""!==this.state.winner&&this.setState({winner:"",button:"Play"},(function(){var e=Math.floor(Math.random()*t.state.field)+1,a=Math.floor(Math.random()*t.state.field)+1;t.setState({randomCell:e+""+a,color:"blue",play:!1}),t.timeout()}))}},{key:"saveResult",value:function(){var t=this;p.a.post("https://starnavi-frontend-test-task.herokuapp.com/winners",{winner:this.state.winner,date:Date().substring(0,Date().indexOf("GMT"))}).then((function(e){t.setState({results:e.data})}))}},{key:"winner",value:function(){var t=this;if(this.state.computer>=Math.pow(this.state.field,2)/2)this.setState({winner:"Computer",button:"Play again",user:0,computer:0},(function(){t.saveResult()}));else{if(!(this.state.user>=Math.pow(this.state.field,2)/2))return"";this.setState({winner:this.state.userName,button:"Play again",user:0,computer:0},(function(){t.saveResult()}))}}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{id:"main"},s.a.createElement("div",{id:"main-container"},s.a.createElement("div",{id:"controllers"},s.a.createElement(k.a,null,s.a.createElement(v.a,{native:!0,value:this.state.mode,onChange:this.handleChange,inputProps:{name:"mode",id:"mode-picker"},size:"large"},this.state.modes.map((function(t){return s.a.createElement("option",{key:t,value:t},t)})))),s.a.createElement(b.a,{id:"standard-basic",label:"Enter Name",name:"userName",value:this.state.userName,onChange:this.handleChange,style:{width:"130px"}}),"Play"===this.state.button?s.a.createElement(y.a,{name:this.state.button,disabled:""===this.state.userName,variant:"contained",color:"primary",size:"small",onClick:this.play},this.state.button):s.a.createElement(y.a,{name:this.state.button,variant:"contained",color:"primary",size:"small",onClick:this.restart.bind(this)},this.state.button)),""!==this.state.winner?s.a.createElement("h1",{style:{color:"#fff"}},this.state.winner," won"):null,s.a.createElement("div",{id:"field"},s.a.createElement("table",null,s.a.createElement("tbody",null,this.state.cols.map((function(e){return s.a.createElement("tr",{key:e},t.state.cols.map((function(a){return t.state.randomCell===e+""+a?s.a.createElement("td",{key:e+""+a,"data-picked":"picked",style:{backgroundColor:t.state.color},onClick:t.check}):s.a.createElement("td",{key:e+""+a,onClick:t.check})})))})))),s.a.createElement("p",null,"Computer: ",this.state.computer),s.a.createElement("p",null,"User: ",this.state.user))),s.a.createElement("div",{id:"results"},this.state.results.map((function(t){return s.a.createElement("h4",{key:t.id},"Winner: ",t.winner," ---- Date: ",t.date)}))))}}]),e}(n.Component),w=(a(81),function(t){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{id:"App"},s.a.createElement(g,null))}}]),e}(n.Component));r.a.render(s.a.createElement(w,null),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.09fb0d2e.chunk.js.map